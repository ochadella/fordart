<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini-Game DART ‚Äî Surat Kejutan</title>
  <style>
    :root {
      --bg: #ffffff;
      --accent: #102f76; /* navy */
      --accent-2: #d9d9d9; /* abu */
      --paper: #f5f5f5; /* putih keabu */
      --love: #102f76; /* navy sebagai warna utama */
    }
    html, body {
      height: 100%;
      margin: 0;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    body {
      background: linear-gradient(180deg, var(--bg) 0%, var(--accent-2) 40%, var(--accent) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .stage {
      width: 100%;
      max-width: 900px;
      height: 640px;
      background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(16,47,118,0.1));
      box-shadow: 0 12px 30px rgba(0,0,0,0.12);
      border-radius: 18px;
      position: relative;
      overflow: hidden;
    }
    header {
      padding: 18px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    h1 { font-size: 18px; margin: 0; color: #142a46; }
    .help { font-size: 13px; color: #333; }
    .game-area {
      position: absolute;
      inset: 70px 20px 120px 20px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
    .playground {
      width: 100%;
      height: 100%;
      position: relative;
      border-radius: 12px;
      overflow: hidden;
    }
    .scoreboard {
      position: absolute;
      left: 16px;
      top: 12px;
      background: rgba(255,255,255,0.7);
      backdrop-filter: blur(6px);
      padding: 8px 12px;
      border-radius: 999px;
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .scoreboard .dot {
      width: 12px; height: 12px;
      border-radius: 50%; background: var(--accent);
    }
    .timer { font-weight: 600; color: #142a46; }
    .heart {
      position: absolute;
      width: 52px; height: 52px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transform-origin: center center;
    }
    .heart svg {
      width: 100%; height: 100%;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.14));
      fill: var(--love);
    }

    /* --- Amplop --- */
    .envelope {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: 340px;
      height: 220px;
      background: #ffffff;
      border-radius: 10px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      transition: transform .6s ease;
    }
    .envelope.show { transform: translate(-50%, -50%) scale(1); }
    .envelope .flap {
      position: absolute;
      top: -1px; left: 0; right: 0;
      height: 90px;
      background: var(--accent-2);
      clip-path: polygon(0 0, 50% 100%, 100% 0);
    }
    .envelope .heart-btn {
      font-size: 36px;
      color: var(--love);
      z-index: 2;
      cursor: pointer;
    }
    .letter {
      position: absolute;
      width: 420px;
      max-height: 70vh;
      background: var(--paper);
      top: 100%; left: 50%;
      transform: translateX(-50%);
      border-radius: 10px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      opacity: 0;
      transition: all .6s ease;
      padding: 20px;
      overflow-y: auto;
      text-align: justify;
      line-height: 1.5em;
      font-size: 15px;
    }
    .envelope.open .letter {
      top: -120px;
      opacity: 1;
    }
    .glow {
      animation: glow 1.2s infinite alternate;
    }
    @keyframes glow {
      from { box-shadow: 0 0 10px rgba(16,47,118,0.4); }
      to { box-shadow: 0 0 25px rgba(16,47,118,0.8); }
    }

    footer {
      position: absolute; left: 0; right: 0; bottom: 0;
      padding: 12px 18px; display: flex;
      align-items: center; justify-content: space-between;
    }
    .instruction { font-size: 13px; color: #142a46; }

    /* --- Responsif untuk HP --- */
    @media (max-width: 768px) {
      .stage {
        height: auto;
        min-height: 600px;
      }
      .envelope {
        width: 90%;
        height: auto;
      }
      .letter {
        width: 90%;
        font-size: 14px;
        padding: 16px;
      }
      .game-area {
        inset: 70px 10px 120px 10px;
      }
      header h1 {
        font-size: 16px;
      }
      .help {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="stage">
    <header>
      <h1>Mini Game For DART</h1>
      <span class="help">Kumpulkan hati untuk membuka surat</span>
    </header>
    <div class="game-area">
      <div class="playground" id="playground"></div>
      <div class="scoreboard"><div class="dot"></div><span id="score">0</span> / 10 <span class="timer" id="timer">25</span></div>
    </div>

    <!-- Amplop -->
    <div class="envelope" id="envelope">
      <div class="flap"></div>
      <div class="heart-btn" id="openBtn">‚ù§</div>
      <div class="letter" id="letter">
        <h3>‚ú® FROM OCHA RIZKI ‚ú®</h3>
        <p>
          Mau bilang makasih banyak buat kalian semua yang udah bareng-bareng jalanin Inisialisasi 2025 
          sejauh ini. Kalian keren banget, selalu semangat, saling support, dan bisa bikin suasana jadi rame 
          tapi tetap kompak. Rasanya capeknya jadi ringan karena ada kalian yang selalu ngehibur, nyemangatin, 
          dan nemenin di setiap rangkaian acara. Ingat ya, ini bukan cuma sekadar acara, tapi juga proses kita buat 
          tumbuh bareng. Kadang capek, kadang males, tapi nanti bakal kerasa sendiri gimana momen ini jadi kenangan berharga 
          pas udah lewat hehe. Jadi yuk, terusin semangatnya, tetap solid, dan jalanin semuanya bareng-bareng 
          dengan hati yang ikhlas dan happy! ‚ú®
        </p>
        <p>
          Aku bangga banget sama kalian semua, serius. Kalau ada yang mulai down atau ngerasa berat, inget aja kalau DART itu 
          nggak pernah ninggalin satu sama lain. Kita mulai bareng, kita selesain bareng üí™üî•
        </p>
      </div>
    </div>

    <footer>
      <div class="instruction">Klik hati yang muncul sebelum waktunya habis!</div>
    </footer>
  </div>

  <!-- AUDIO -->
  <audio id="bgm" src="aldi.mp3"></audio>

  <script>
    const playground = document.getElementById('playground');
    const scoreEl = document.getElementById('score');
    const timerEl = document.getElementById('timer');
    const envelope = document.getElementById('envelope');
    const letter = document.getElementById('letter');
    const bgm = document.getElementById('bgm');

    let score = 0;
    let timeLeft = 25;
    let gameInterval, timerInterval;

    function spawnHeart(){
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerHTML = `<svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6 4 4 6.5 4c1.74 0 3.41 1.01 4.13 2.44h.74C14.09 5.01 15.76 4 17.5 4 20 4 22 6 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`;
      heart.style.left = Math.random() * (playground.clientWidth - 52) + 'px';
      heart.style.top = Math.random() * (playground.clientHeight - 52) + 'px';
      heart.onclick = () => {
        score++;
        scoreEl.textContent = score;
        heart.remove();
        if(score >= 10){ endGame(); }
      };
      playground.appendChild(heart);
      setTimeout(()=> heart.remove(), 1500);
    }

    function startGame(){
      gameInterval = setInterval(spawnHeart, 800);
      timerInterval = setInterval(()=>{
        timeLeft--;
        timerEl.textContent = timeLeft;
        if(timeLeft <= 0){ endGame(); }
      },1000);
    }

    function endGame(){
      clearInterval(gameInterval);
      clearInterval(timerInterval);
      playground.innerHTML = '';
      if(score >= 10){
        envelope.classList.add('show');
        const openBtn = document.getElementById('openBtn');
        openBtn.onclick = ()=> {
          envelope.classList.toggle('open');
          letter.classList.toggle('glow');
          // mainkan lagu saat surat dibuka
          bgm.play();
        }
      } else {
        alert('Sayang sekali, coba lagi ya!');
        location.reload();
      }
    }
    startGame();
  </script>
</body>
</html>
