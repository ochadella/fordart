<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini Game For DART</title>
  <style>
    :root {
      --bg: #ffffff;
      --accent: #102f76;
      --accent-2: #f9a01b;
      --paper: #fefefe;
      --love: #d62828;
    }
    html, body {
      height: 100%;
      margin: 0;
      font-family: "Inter", system-ui, sans-serif;
    }
    body {
      background: linear-gradient(180deg, #ffffff 0%, #dce3f3 40%, #102f76 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
    }
    .stage {
      width: 100%;
      max-width: 850px;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.15);
      overflow: hidden;
      position: relative;
      padding-bottom: 90px;
    }
    header {
      padding: 16px 22px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(90deg, var(--accent) 0%, #142a46 100%);
      color: #fff;
    }
    h1 {
      font-size: 17px;
      margin: 0;
    }
    .help {
      font-size: 13px;
      opacity: 0.9;
    }
    .game-area {
      position: relative;
      height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
    .playground {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
    }
    .scoreboard {
      position: absolute;
      top: 15px;
      left: 15px;
      background: rgba(255,255,255,0.8);
      padding: 8px 12px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      color: #102f76;
    }
    .scoreboard .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--accent);
    }
    .heart {
      position: absolute;
      width: 50px;
      height: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .heart svg {
      width: 100%;
      height: 100%;
      fill: var(--love);
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.15));
    }

    /* Amplop & surat */
    .envelope {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: 320px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      text-align: center;
      padding: 30px 15px;
      transition: transform .6s ease;
    }
    .envelope.show { transform: translate(-50%, -50%) scale(1); }
    .envelope .heart-btn {
      font-size: 34px;
      color: var(--love);
      cursor: pointer;
      margin-bottom: 12px;
    }
    .letter {
      background: var(--paper);
      border-radius: 10px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
      padding: 18px;
      text-align: justify;
      line-height: 1.5em;
      font-size: 14px;
      max-height: 300px;
      overflow-y: auto;
      opacity: 0;
      transform: translateY(40px);
      transition: all .6s ease;
    }
    .envelope.open .letter {
      opacity: 1;
      transform: translateY(0);
    }

    footer {
      position: absolute;
      bottom: 0;
      width: 100%;
      text-align: center;
      font-size: 13px;
      padding: 10px;
      background: #f8f9fa;
      color: #102f76;
    }

    /* Responsive fix */
    @media (max-width: 768px) {
      .stage { max-width: 95%; }
      .game-area { height: 340px; }
      .letter { font-size: 13px; padding: 14px; max-height: 240px; }
      header h1 { font-size: 15px; }
      .help { font-size: 12px; }
    }

    @media (max-width: 480px) {
      .letter { font-size: 12px; padding: 12px; max-height: 210px; }
      .envelope { width: 90%; padding: 20px 10px; }
      .stage { padding-bottom: 70px; }
    }
  </style>
</head>
<body>
  <div class="stage">
    <header>
      <h1>Mini Game For DART</h1>
      <span class="help">Kumpulkan hati untuk membuka surat</span>
    </header>

    <div class="game-area">
      <div class="playground" id="playground"></div>
      <div class="scoreboard">
        <div class="dot"></div><span id="score">0</span> / 10
        <span class="timer" id="timer">25</span>
      </div>
    </div>

    <div class="envelope" id="envelope">
      <div class="heart-btn" id="openBtn">❤</div>
      <div class="letter" id="letter">
        <h3>✨ FROM OCHA RIZKI ✨</h3>
        <p>Mau bilang makasih banyak buat kalian semua yang udah bareng-bareng jalanin Inisialisasi 2025 sejauh ini. Kalian keren banget, selalu semangat, saling support, dan bisa bikin suasana jadi rame tapi tetap kompak. Rasanya capeknya jadi ringan karena ada kalian yang selalu ngehibur, nyemangatin, dan nemenin di setiap rangkaian acara.</p>
        <p>Ingat ya, ini bukan cuma sekadar acara, tapi juga proses kita buat tumbuh bareng. Kadang capek, kadang males, tapi nanti bakal kerasa sendiri gimana momen ini jadi kenangan berharga pas udah lewat. Jadi yuk, terusin semangatnya, tetap solid, dan jalanin semuanya bareng-bareng dengan hati yang ikhlas dan happy! ✨</p>
      </div>
    </div>

    <footer>
      Klik hati yang muncul sebelum waktunya habis!
    </footer>
  </div>

  <audio id="bgm" src="aldi.mp3"></audio>

  <script>
    const playground = document.getElementById('playground');
    const scoreEl = document.getElementById('score');
    const timerEl = document.getElementById('timer');
    const envelope = document.getElementById('envelope');
    const openBtn = document.getElementById('openBtn');
    const bgm = document.getElementById('bgm');

    let score = 0;
    let timeLeft = 25;
    let gameInterval, timerInterval;

    function spawnHeart() {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerHTML = `<svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6 4 4 6.5 4c1.74 0 3.41 1.01 4.13 2.44h.74C14.09 5.01 15.76 4 17.5 4 20 4 22 6 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`;
      heart.style.left = Math.random() * (playground.clientWidth - 50) + 'px';
      heart.style.top = Math.random() * (playground.clientHeight - 50) + 'px';
      heart.onclick = () => {
        score++;
        scoreEl.textContent = score;
        heart.remove();
        if(score >= 10) endGame();
      };
      playground.appendChild(heart);
      setTimeout(()=>heart.remove(), 1500);
    }

    function startGame() {
      gameInterval = setInterval(spawnHeart, 800);
      timerInterval = setInterval(() => {
        timeLeft--;
        timerEl.textContent = timeLeft;
        if(timeLeft <= 0) endGame();
      }, 1000);
    }

    function endGame() {
      clearInterval(gameInterval);
      clearInterval(timerInterval);
      playground.innerHTML = '';
      if(score >= 10) {
        envelope.classList.add('show');
        openBtn.onclick = () => {
          envelope.classList.toggle('open');
          bgm.play();
        };
      } else {
        alert('Sayang sekali, coba lagi ya!');
        location.reload();
      }
    }

    startGame();
  </script>
</body>
</html>
